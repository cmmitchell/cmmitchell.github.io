<!doctype html>

<!-- Coded by C. M. Mitchell
		-->

<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Map v1.0.08 </title>

		<!-- Stylesheets -->
		<link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
		  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
		  crossorigin=""/>
			<script type="text/javascript" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
			  integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
			  crossorigin=""></script>
			<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/ControlLayer.css"/>
			<script src="https://cmmitchell.github.io/Webmap2/Stylesheets/styledLayerControl.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/measure_tool.css"/>
		<link rel="stylesheet" type="text/css" href="https://cmmitchell.github.io/Webmap2/Stylesheets/css.css"/>
		<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
			
	

		<!-- Javascript and other links-->
		
		<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>

		

		
		<!-- GeoJSON overlays -->
		
		<script type="text/javascript" src="https://cmmitchell.github.io/Webmap2/Java/gjson/Graticule_30.js"></script>
		<script type="text/javascript" src="https://cmmitchell.github.io/Webmap2/Java/gjson/Graticule_5.js"></script>
		<script type="text/javascript" src="https://cmmitchell.github.io/Webmap2/Java/gjson/Graticule_1.js"></script>
	
		
		<script type="text/javascript" src="https://cmmitchell.github.io/Webmap2/Java/gjson/Region1.js"></script>

		
		<!-- Broken Stuff -->
		


		

		
		<body>
	
		<!-- Fade auomation for text box/legend thing -->

			
	

						<!-- Logo or somthing -->
			</div>
			

			<div id="map"></div>
	
			<script>
			
			
			//calling geo JASON and embeded styles from javascript
			//============================================	
			//=================Background=================
			//============================================
			
			
			
				var 
				//a = L.geoJson(bak, {
					//style: back})
					//a1 = L.geoJson(bak, {
					//style: backblack})
					
					//a2 = L.geoJson(bak, {
					//style: back})
					//a3 = L.geoJson(bak, {
					//style: back})
					
				
					//===========================================
					//=================Countries=================
					//===========================================
          				
					rdis1 = L.geoJson(region2, {
					style: regiondis,
					onEachFeature: function (feature, layer){popupOptions = {color: "#5D6D7E", maxWidth: 250};
					layer.bindPopup("<b>Region:</b> " + feature.properties.Region,popupOptions);
						}
						})  
				

				
				//===========================================
				//==============Square Area==================
				//===========================================
				
				
					
					brg = L.geoJson(region2, {
					style: regionG,
					onEachFeature: function (feature, layer){popupOptions = {color: "#5D6D7E", maxWidth: 250};
					layer.bindPopup("<b>Region:</b> " + feature.properties.region_G,popupOptions);
					
						}
						})
					b1 = L.geoJson(region2, {
					style: countrymi,
					onEachFeature: function (feature, layer){popupOptions = {color: "#5D6D7E", maxWidth: 250};
					layer.bindPopup("<b>Mi² :</b> " + feature.properties.SqMiSim,popupOptions);
					
						}
						})
				
		
					b2 = L.geoJson(region2, {
					style: countrykm,
					onEachFeature: function (feature, layer){popupOptions = {color: "#5D6D7E", maxWidth: 250};
					layer.bindPopup("<b>Km² :</b> " + feature.properties.SqKm,popupOptions);
					
						}
						})
					

	
					//gs = L.geoJson(GeoRegion, {
					//style: gratGeo
					//})
					//gsr = L.geoJson(GeoRegion, {
					//style: gratGeor
					//})
				

	//this is a seperating line ----------------------------------------------------------------------------------
						

				
					k = L.geoJson(grat, {
					style: gratst,
				
					})
				
					k1 = L.geoJson(grat1, {
					style: gratsty1,
				
					})
				
					k5 = L.geoJson(grat5, {
					style: gratsty5,
		
					})
					
	//===============================Layer Groups=======================================
				
				//===================================================
				//assigning variables to layers for control
				//===================================================
				
					//=================background=================
				var 
				//aShp = L.layerGroup([a2]),
					//a1Shp = L.layerGroup([a1]),
					//=================country=================
				    	rdisShp = L.layerGroup([rdis1]),


				  	brgShp = L.layerGroup([brg]),
					//bclasShp = L.layerGroup([bclas]),
				    	b1Shp = L.layerGroup([b1]),
				    	b2Shp = L.layerGroup([b2]),
				    
				    	//cdisShp = L.layerGroup([cdis]),
				    	//cdis1Shp = L.layerGroup([cdis1,a]),
				    	//cdis2Shp = L.layerGroup([cdis2,a1]),
				    	//cdis3Shp = L.layerGroup([cdis3,a]),
				    	//cdisg1Shp = L.layerGroup([cdisg1,a]),
				    	//cdisg2Shp = L.layerGroup([cdisg2,a]),
				    
         
					
				 	
					//=================lake=================
					//dShp = L.layerGroup([d]),
				    	//d1Shp = L.layerGroup([d1]),
					//=================mountains=================
					//gShp = L.layerGroup([g]),
				    	//g2Shp = L.layerGroup([g2]),
				    	//gwShp = L.layerGroup([gw]),
				    
				    	//moShp = L.layerGroup([mo]),
				    	
				  	//lpntShp = L.layerGroup([lpnt]),
				    
				  	//gsShp = L.layerGroup([gs]),
				    	//gsrShp = L.layerGroup([gsr]),
				    	kShp = L.layerGroup([k]),
					k1Shp = L.layerGroup([k1]),

					k5Shp = L.layerGroup([k5]);			
					//rivers
				//background images
	//this is a seperating line ----------------------------------------------------------------------------------
				//set map extent, view, and default layer
				var map = L.map('map', {
					zoomDelta: 0.15,
					zoomSnap: 0
					}).setView([0, 0], 4.5);
	//this is a seperating line ----------------------------------------------------------------------------------
			
				//Create Layered Groups
				//create basemaps variable to call within the control
				var baseMaps = [
						{ 
							
							groupName : "0-5k",
							layers    : {
								"No Click Pls":rdisShp
								//"Country (3128)":b3128Shp,
								//"Country (4940)":b4940Shp
							}
						}
													
				];	
				//create overlays variable to call within the control. Calls layer groups
				
				var overlays = [
						 {
							groupName : "Other",
							expanded  : true,
							layers    : { 
								//"Mountain Opaque":g2Shp,
								//"Mountain White":gwShp,	
								//"Moisture":moShp,
								//"Rivers":eShp,
								"Provinces (Mi²)":b1Shp,
								"Provinces (Km²)":b2Shp,
								"Region 1":rdisShp,
								"Region 2":brgShp
							}	
						 }, {
							groupName : "Gaticule",
							layers    : { 
								
								"Graticules 30":kShp,
								"Graticules 5":k5Shp,
								"Graticules 1":k1Shp
							}	
						 }							 
				];
				//================================================
				
				
				var options = {
					container_width 	: "180px",
					group_maxHeight     : "200px",
					//container_maxHeight : "350px", 
					exclusive       	: false,
					collapsed : true, 
					position: 'topright'
				};
		//this is a seperating line ----------------------------------------------------------------------------------
				
				//add control to map
				var control = L.Control.styledLayerControl(baseMaps, overlays, options);
				map.addControl(control);
	
					function getColor(d) {
					    return d > 350000  ? '#006739' :
						   d > 210000 ? '#238b45' :
						   d > 130000   ? '#2f9a52' :
						   d > 50000   ? '#41ab5d' :
						   d > 15000   ? '#67b469' :
							   d > 0   ? '#8cbf86' :
							      '#a1d99b';
										  //
										  //#c7e9c0
					}
				
					function getColorq(q) {
					    return q > 900000  ? '#006739' :
						   q > 500000 ? '#238b45' :
						   q > 325000   ? '#2f9a52' :
						   q > 150000   ? '#41ab5d' :
						   q > 50000   ? '#67b469' :
						   q > 0   ? '#8cbf86' :
							      '#a1d99b';
							
					}

				
					function gregColor(a) {
						return a === 'Region 1' ? "#8e3774":
							a === 'Region 2' ? "#468935":
							a === 'Region 3' ? "#29ae60":
							a === 'Region 4' ? "#1f0d81":
							// #342969
							a === 'Region 5' ? "#9d1b2a":
							a === 'Region 6' ? "#5b7b4c":
							a === 'Region 7' ? "#2f5c7c":
							a === 'Region 8' ? "#b24936":
							a === 'Region 9' ? "#9c9960":
							a === 'Region 10' ? "#9a9945":
							a === 'Region 11' ? "#149b72":
							a === 'Region 12' ? "#542a8a":
							a === 'Region 13' ? "#bc7962":
							a === 'Region 14' ? "#42bd3d":
							a === 'Region 15' ? "#2c56b8":
							a === 'Region 16' ? "#4d5e44":
							a === 'Region 17' ? "#218c87":
								"#bcbcbc";
					}
				
					
			//this is miles
				var legend = L.control({position: 'bottomright'});
				legend.onAdd = function (map) {
					var div = L.DomUtil.create('div', 'info legend'),
						grades = [0, 35000, 100000, 180000, 250000, 380000],
						labels = [],
						from, to;
					for (var i = 0; i < grades.length; i++) {
						div.innerHTML +=
						    '<span style="background:' + getColor(grades[i] + 1) + '"></span> ';
					    }
					    // a line break
					    div.innerHTML += '<br>';
					    // second loop for text
					    for (var i = 0; i < grades.length; i++) {
						div.innerHTML +=
						    '<label>' + grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] : '+') + '</label>';
					    }
					    return div;
					};
		//this is a seperating line ----------------------------------------------------------------------------------
				// this is kilometers
				var legendkm = L.control({position: 'bottomright'});
				legendkm.onAdd = function (map) {
					var div = L.DomUtil.create('div', 'info legend'),
						grades = [0, 90000, 250000, 465000, 800000, 1500000],
						labels = [];
					for (var i = 0; i < grades.length; i++) {
						div.innerHTML +=
						    '<span style="background:' + getColorq(grades[i] + 1) + '"></span> ';
					    }
					    // a line break
					    div.innerHTML += '<br>';
					    // second loop for text
					    for (var i = 0; i < grades.length; i++) {
						div.innerHTML +=
						    '<label>' + grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] : '+') + '</label>';
					    }
					    return div;
					};
				//this is a seperating line ----------------------------------------------------------------------------------
				// this is country?

		//this is a seperating line ----------------------------------------------------------------------------------	
				//Regions
				var legend2 = L.control({position: 'bottomright'});
				legend2.onAdd = function (map) {
				var div = L.DomUtil.create('div', 'info legend'),
					labels = ['<strong>Region</strong>'],
					categories = ['Region 1', 'Region 2', 'Region 3', 'Region 4', 'Region 5', 'Region 6', 'Region 7', 'Region 8', 'Region 9', 'Region 10', 'Region 11', 
						      'Region 12', 'Region 13', 'Region 14', 'Region 15', 'Region 16', 'Region 17', 'Region 18'];
					
					for (var i = 0; i < categories.length; i++) {
					    div.innerHTML += 
					    labels.push(
						'<QS style="background:' + gregColor(categories[i]) + '"></QS> ' +
					    (categories[i] ? categories[i] : '+'));
					}
					div.innerHTML = labels.join('<br>');
				    return div;
				    };
				
				var legend3 = L.control({position: 'bottomright'});
				legend3.onAdd = function (map) {
				var div = L.DomUtil.create('div', 'info legend'),
					labels = ['<strong>Region</strong>'],
					categories = ['Region 1', 'Region 2', 'Region 3', 'Region 4', 'Region 5', 'Region 6', 'Region 7', 'Region 8', 'Region 9', 'Region 10', 'Region 11', 
						      'Region 12', 'Region 13', 'Region 14', 'Region 15', 'Region 16', 'Region 17', 'Region 18'];
					
					for (var i = 0; i < categories.length; i++) {
					    div.innerHTML += 
					    labels.push(
						'<QS style="background:' + RegionColors(categories[i]) + '"></QS> ' +
					    (categories[i] ? categories[i] : '+'));
					}
					div.innerHTML = labels.join('<br>');
				    return div;
				    };
				
				
				
			//this is a seperating line ----------------------------------------------------------------------------------	
				
				
				//categories = ;
				//this is a seperating line ------------------------------------------------
				map.on('overlayadd', function(eventLayer){
				    if (eventLayer.name === 'Region 2'){
					map.addControl(legend2);
				    } else if (eventLayer.name === 'Provinces (Km²)'){
					map.addControl(legendkm);
				    } else if (eventLayer.name === 'Provinces (Mi²)'){
					map.addControl(legend);
				    } 
				});
				//==========================================
				map.on('overlayremove', function(eventLayer){
				    if (eventLayer.name === 'Region 2'){
					 map.removeControl(legend2);
				    } else if (eventLayer.name === 'Provinces (Km²)'){
					 map.removeControl(legendkm);
				    } else if (eventLayer.name === 'Provinces (Mi²)'){
					 map.removeControl(legend);
				    } 
				});			
				
				//legendGW.addTo(map);
				
				L.control.scale({maxWidth: 150}).addTo(map);
				L.control.fullscreen().addTo(map);
				//var poi1 = L.point(100, -180),
				//poi2 = L.point(-100, 180)
				    
				//L.bounds(poi1, poi2);		
				
				//L.map('map', {
        			
    				//});
				
			
			
			</script>
			
		</body>
